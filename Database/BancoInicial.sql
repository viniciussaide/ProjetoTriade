CREATE TABLE [dbo].[Estoques] (
    [Id] [int] NOT NULL IDENTITY,
    [QuantidadeNoEstoque] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Estoques] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Produtoes] (
    [Id] [int] NOT NULL IDENTITY,
    [Nome] [nvarchar](max),
    [PrecoCusto] [decimal](18, 2) NOT NULL,
    [PrecoVenda] [decimal](18, 2) NOT NULL,
    [ProdutoComposto_Id] [int],
    [ProdutoComposto_Id1] [int],
    CONSTRAINT [PK_dbo.Produtoes] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ProdutoComposto_Id] ON [dbo].[Produtoes]([ProdutoComposto_Id])
CREATE INDEX [IX_ProdutoComposto_Id1] ON [dbo].[Produtoes]([ProdutoComposto_Id1])
CREATE TABLE [dbo].[ProdutosNasRequisicoes] (
    [Id] [int] NOT NULL IDENTITY,
    [QuantidadeDeProdutos] [int] NOT NULL,
    CONSTRAINT [PK_dbo.ProdutosNasRequisicoes] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Requisicaos] (
    [Id] [int] NOT NULL IDENTITY,
    [DataRequisicao] [datetime] NOT NULL,
    [Funcionario] [nvarchar](max),
    CONSTRAINT [PK_dbo.Requisicaos] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ProdutoCompostoes] (
    [Id] [int] NOT NULL IDENTITY,
    [QuantidadeContidaDoProdutoSimples] [int] NOT NULL,
    CONSTRAINT [PK_dbo.ProdutoCompostoes] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ProdutoEstoques] (
    [Produto_Id] [int] NOT NULL,
    [Estoque_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.ProdutoEstoques] PRIMARY KEY ([Produto_Id], [Estoque_Id])
)
CREATE INDEX [IX_Produto_Id] ON [dbo].[ProdutoEstoques]([Produto_Id])
CREATE INDEX [IX_Estoque_Id] ON [dbo].[ProdutoEstoques]([Estoque_Id])
CREATE TABLE [dbo].[ProdutosNasRequisicoesProdutoes] (
    [ProdutosNasRequisicoes_Id] [int] NOT NULL,
    [Produto_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.ProdutosNasRequisicoesProdutoes] PRIMARY KEY ([ProdutosNasRequisicoes_Id], [Produto_Id])
)
CREATE INDEX [IX_ProdutosNasRequisicoes_Id] ON [dbo].[ProdutosNasRequisicoesProdutoes]([ProdutosNasRequisicoes_Id])
CREATE INDEX [IX_Produto_Id] ON [dbo].[ProdutosNasRequisicoesProdutoes]([Produto_Id])
CREATE TABLE [dbo].[RequisicaoProdutosNasRequisicoes] (
    [Requisicao_Id] [int] NOT NULL,
    [ProdutosNasRequisicoes_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.RequisicaoProdutosNasRequisicoes] PRIMARY KEY ([Requisicao_Id], [ProdutosNasRequisicoes_Id])
)
CREATE INDEX [IX_Requisicao_Id] ON [dbo].[RequisicaoProdutosNasRequisicoes]([Requisicao_Id])
CREATE INDEX [IX_ProdutosNasRequisicoes_Id] ON [dbo].[RequisicaoProdutosNasRequisicoes]([ProdutosNasRequisicoes_Id])
ALTER TABLE [dbo].[Produtoes] ADD CONSTRAINT [FK_dbo.Produtoes_dbo.ProdutoCompostoes_ProdutoComposto_Id] FOREIGN KEY ([ProdutoComposto_Id]) REFERENCES [dbo].[ProdutoCompostoes] ([Id])
ALTER TABLE [dbo].[Produtoes] ADD CONSTRAINT [FK_dbo.Produtoes_dbo.ProdutoCompostoes_ProdutoComposto_Id1] FOREIGN KEY ([ProdutoComposto_Id1]) REFERENCES [dbo].[ProdutoCompostoes] ([Id])
ALTER TABLE [dbo].[ProdutoEstoques] ADD CONSTRAINT [FK_dbo.ProdutoEstoques_dbo.Produtoes_Produto_Id] FOREIGN KEY ([Produto_Id]) REFERENCES [dbo].[Produtoes] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ProdutoEstoques] ADD CONSTRAINT [FK_dbo.ProdutoEstoques_dbo.Estoques_Estoque_Id] FOREIGN KEY ([Estoque_Id]) REFERENCES [dbo].[Estoques] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ProdutosNasRequisicoesProdutoes] ADD CONSTRAINT [FK_dbo.ProdutosNasRequisicoesProdutoes_dbo.ProdutosNasRequisicoes_ProdutosNasRequisicoes_Id] FOREIGN KEY ([ProdutosNasRequisicoes_Id]) REFERENCES [dbo].[ProdutosNasRequisicoes] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ProdutosNasRequisicoesProdutoes] ADD CONSTRAINT [FK_dbo.ProdutosNasRequisicoesProdutoes_dbo.Produtoes_Produto_Id] FOREIGN KEY ([Produto_Id]) REFERENCES [dbo].[Produtoes] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[RequisicaoProdutosNasRequisicoes] ADD CONSTRAINT [FK_dbo.RequisicaoProdutosNasRequisicoes_dbo.Requisicaos_Requisicao_Id] FOREIGN KEY ([Requisicao_Id]) REFERENCES [dbo].[Requisicaos] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[RequisicaoProdutosNasRequisicoes] ADD CONSTRAINT [FK_dbo.RequisicaoProdutosNasRequisicoes_dbo.ProdutosNasRequisicoes_ProdutosNasRequisicoes_Id] FOREIGN KEY ([ProdutosNasRequisicoes_Id]) REFERENCES [dbo].[ProdutosNasRequisicoes] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201705241900387_BancoInicial', N'Database.Migrations.Configuration',  0x1F8B0800000000000400ED5D4B6FDC3610BE17E87F10746A8B64652797D4D84D90AEE3C268FCA8D7097A3368895E0B95C48D4819368AFEB21EFA93FA174A69F5A0F810493DEC4D60F412AF86C3E1CC47CE703864FFFBE7DFF9BBFB3872EE608A43942CDCFDD99EEBC0C4474198AC176E466E5EBE71DFBDFDFEBBF98720BE773E5774AF733ADA32C10BF79690CD81E761FF16C600CFE2D04F11463764E6A3D80301F25EEDEDFDECEDEF7B90B270292FC7995F6409096358FC41FF5CA2C4871B9281E8040530C2E5EFF4CBAAE0EA9C8218E20DF0E1C23D04045C030C5DE77D1402DAFF0A4637AE0392041140A874079F305C911425EBD586FE00A2CB870DA4743720CA5B15521F34E4A603D87B950FC06B1A56ACFC0C13145B32DC7F5D6AC4E39BF7D2AB5B6B8CEAEC03D52D79C8475DE86DE17EA03D7CC9E8D8F9BE0E96519AD32DDC42EFB392F08553FCF9A2B6378545FEDF0B679945244BE12281194901A538CFAEA3D0FF0D3E5CA23F61B248B2286265A1D2D06FAD1FE84FE729DAC0943C5CC09B52C2E3C075BC763B8F6F583763DA6C853F4EC8EB57AE734A3B07D711AC4DCD0C7445500A7F85094C0181C1392004A649CE0316CA127AE7FAFA3D03942E00013C45B536BB3BE7189E82BB705DC8C2B1A67F06194198617C01A38212DF869B2DBE6725D5D5C710137008AB467593A314C517286AF82928AF2E41BA86840A8F8CC857284B7D6E3473AF415827EE4A667ADC9584CFB8E3FB3A45710D34BAA6D145D9754EC0FD4798ACC92DD51EB8A7A60FEF6150FD524AF02909E91A4E1B913413B1282010FA68999BA8EAEA10FA610C22D7C93F85A56B78E33A2B1FE4C33480BBAC8BCF3009C0785D2867946A8E4C39ADAA796238ADAA59D8734817F04B467546A817C05DE3C2A7A0A2F511C457CDCFD5AF00490669D24CB59018B51D6355E13A325E64B876CF6B8EDAD735801BDDD9B500F83400564C592BF09B8E5B335A863337D3D9C1A9A984C9D8413A68EEB1E3D0CDB786F6798EF17DE59B185697A54FA4BC2EC3DCE35BBAD7A32CF1A954200DD1F8D182A9539A06D9FC2C35980443BCCA12C51B842D62D6AAC133C6D57E846EEFF37F1CA25267AB30DE44706CA7D2E5472A2B5DD5B482CFE04954FE41A0B3F505BC12CCA5AE9B68852F294DC75091DBCCA0F718233F2C246F0F4C154CB7D5F321091CBBC87ABBAC31EAA18B1B9D5AE1864E262ADFC2FD49B0817127B5FF6C3AA9F7009D9DCC3D460F46EA310A6934C3B08B6F04C509A1B3B51EED7608B696B3506A877F510DC1C4D93412B35EDA5C4D26A1DA40B3D8234F5804354656AF8882E88DDB6CCBBC379BEDEBD1A45C52A7448E668DB514595870275611BF628FA7A9ED6A9FBB6C1052D75F05ACBFD07892BA72495CF409C33234C26504C98F2567B88284CF46377E855F72056DB4393421A4C0A21EBC210B7ECAA9180A841AFEECB221F0643F1ACA59D9BF43C406601C4FC6D0026365E68B6964962BE303566B075F0F9D35B0D79B6D353318B62A7C796D0D996BCF2C3DA154A57D283038189028B91BD983BDBF81597B18A06B5F29EADB344AB08D1398B1A9E7B46D60606DA2FEF815B7454AAC76070F56E1836480CCF2A6879F325C98066ABACD98B1CAA4A1459FE0626C05F2C1C4303D561BC63A84684EF3BDED717E75ECEF29CEFDE72760B3099335530750FEE2ACB64500CB972BFB73F278CBC3F3B1E4B8BC96B6EE89A014AC21F795764D253D0A534C9A428465100B6475C0A4F0EF5537ED9848345DE5EB2BFAFCDF4D0E31EF7FA668DC68ED880E24860929C604250E516859545E8008A492FCD11245599CA872505DADA5A7E82C3B2981C87FEE7103E3D5E6097AE3C0CB9BC1C8481D3EC3C04A8A75D3C04ACA96D358697BE6CCB6DFFE62CE813D5066F9B0BF5B722BCF8E056EE5EF3B8711CE630F418C86973980B48CA69EF56C90269FF62CC5CED8B4331837B0A3BABD81EDBA1A4F632FFE6C8AE5C47F33E7DA3AA26259B63EEC8CCDC5B86AC814AEB7E6BDE7AE9AC3D493567978239FC14AF2C7376D3B4295DA5799FE50DB52D94461B98EFC88FC6048932711D56864FE8AB90C06B9226B6106CB59EE227ACA5971B19393DF8EF4C5835942C7D8572BDA9BF9E78E8DB6DC203689A06128E27B1A0F5436A9A5479D098311D695B1EA0C1A4472758C601C7EF2EAD727BB7A6A9B613C024AF4E9B3A704F658AB909896D387160DADE1F6513D075589BB61AAADB98EB758A812813D05B5168CC63A41581C291EE3BC7AA5AE5CB11BFE54B06995D998A1A76E323A88B81CE6685812CE4EC702139714DD714C8947C85A5009795A9EA48ECFEB7C2D97979D973952FDA52D2169BA25C9ABFFD15D18E409D3D50326309EE504B3D5976819857447D0109C8024BC81986C6BE6DC577B7B6FB81B60BB731BCBC33888243966C995ACB6CD1EA1EE2FCC95AAADECB3AC3FEDB81E55F4D7C9CEFA3AD1B7A133F66A4F720752FF16A43FC4E0FE479653BFEB3BC1F4D77726E84274938CF685AA93E32480F70BF7AFA2F98173FCC795C8E1857396D2A5E3C0D973FEB6D7AA64891D2AD0BEB94443AFC37C1B93A4EB2ECA882B8BB2F2F26BD59BFC7E4140999391EE17582C59BD6BF0BF0D5B18D7C18FEF2A0744199D5912915C9DB6D3EB9FEDAAD70ADBB1D41B598815DE4E80A6A585000397F60161904D96C30612C63696F5DCCBE422A34108786408F6704CE3B9795D466E006CF438E03AB7D375ABF118F6DE0D388E75C3469A5B11ABBF4C8AC5F78544CF5972082348A0F3DEDF6EAB9700FB4541380F01DAA146026E8BC80A6276EB8632A5E88469EE914144DD2A262908C503C4F334A481CB06449C06C4648E4924910FAEE6C87F39841BBA3FCA4F70A54335E9B1FB60A2EE8053B74E11F657226C0EF618E3CAACAA30E7370A2F1B633F3EBCBA4F561F0F5EBD8F29B585E83D2E554D8B4445E4A61753B12C8FBB0CEA0BCBA682ADD949F7E01076D740AD594077C63FEF366CBF2A9C3E1D302D4FF4A577540C6FC24E8446EDE6472E9DD9C23F12263B6B3B4787A56DA147AFFDDF1383D36C91DC59CFFF3580F6E9FCFF2800DED110A0EFF5FAF12F8BF77B2C6308943A0A9CA7F2CD3650D1D41E3D1D462C5F1B7886CA6342455A5A343A56E4EF2D88B70C79435A3FAAB02DB959B8C1756EF56D36B2FCA87FCFA08686FAC50519FFF2A37907FD1F64E8E87EB2C71B647D36DF8D07DD4C61FDDB0E1DC3AC88CCB5AD460D4FD0D1AD2D86547B46434B9BE04DDEC4CAF2C678D437E9468921467B3CE251DF17B77DCB4351A429F31E921251830BE81CEE64D76546BBB7AF7B1FC45A39F2825059225CFFF4C8532BC7EAED9041EF9818634A31E3C67DB2A403BF2ACA4755B9169C03EEC98C378D7740A9068FB4D83C07A347A9181BF47BFEC500EDD63E6254F5A921687D0967F249BE6B6A556504A6785E47A63BD553607D27FF57F56ACE132BC4E2F91BF1FA04DD4732FF671CBA9FC5E1BA61915F0E49A0DFDA41D634C7C90DAA76B59C4415C979BB08E6041210D0EDE5FB948437C027F4B30F312E9E8DFE0CA22C0F65E26B181C276719D964840E19C6D751EBE1DF7C43DCD57FF1C64F5BE6F9D9A678EE768C215031C3BCAAF52CF9250BA3A096FB485265A36091EFB4CB6ACFDC9624AFFA5C3FD49C4E5162C8A8545F9D20B88414B894193E4B56E00EF691ED13861FE11AF80FE7E52D183513BD21DA6A9F1F86609D8218973C9AF6F44F8AE120BE7FFB3F96BFFAE9206A0000 , N'6.1.3-40302')

