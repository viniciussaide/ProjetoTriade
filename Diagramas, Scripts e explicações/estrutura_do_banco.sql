CREATE TABLE [dbo].[Product] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    [CostValue] [decimal](18, 2) NOT NULL,
    [SellValue] [decimal](18, 2) NOT NULL,
    [Type] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Product] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ProductComposition] (
    [ProductId] [int] NOT NULL,
    [ItemId] [int] NOT NULL,
    [Quantity] [int] NOT NULL,
    CONSTRAINT [PK_dbo.ProductComposition] PRIMARY KEY ([ProductId], [ItemId])
)
CREATE INDEX [IX_ProductId] ON [dbo].[ProductComposition]([ProductId])
CREATE INDEX [IX_ItemId] ON [dbo].[ProductComposition]([ItemId])
CREATE TABLE [dbo].[ProductRequest] (
    [RequestId] [int] NOT NULL,
    [ProductId] [int] NOT NULL,
    [Quantity] [int] NOT NULL,
    CONSTRAINT [PK_dbo.ProductRequest] PRIMARY KEY ([RequestId], [ProductId])
)
CREATE INDEX [IX_RequestId] ON [dbo].[ProductRequest]([RequestId])
CREATE INDEX [IX_ProductId] ON [dbo].[ProductRequest]([ProductId])
CREATE TABLE [dbo].[Request] (
    [Id] [int] NOT NULL IDENTITY,
    [RequestDate] [datetime] NOT NULL,
    [Worker] [nvarchar](max),
    CONSTRAINT [PK_dbo.Request] PRIMARY KEY ([Id])
)
ALTER TABLE [dbo].[ProductComposition] ADD CONSTRAINT [FK_dbo.ProductComposition_dbo.Product_ItemId] FOREIGN KEY ([ItemId]) REFERENCES [dbo].[Product] ([Id])
ALTER TABLE [dbo].[ProductComposition] ADD CONSTRAINT [FK_dbo.ProductComposition_dbo.Product_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [dbo].[Product] ([Id])
ALTER TABLE [dbo].[ProductRequest] ADD CONSTRAINT [FK_dbo.ProductRequest_dbo.Product_ProductId] FOREIGN KEY ([ProductId]) REFERENCES [dbo].[Product] ([Id])
ALTER TABLE [dbo].[ProductRequest] ADD CONSTRAINT [FK_dbo.ProductRequest_dbo.Request_RequestId] FOREIGN KEY ([RequestId]) REFERENCES [dbo].[Request] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201706041651321_BancoInicial', N'Model.DBtriade',  0x1F8B0800000000000400ED5C5F6FDB36107F1FB0EF20E8691BD228695FBAC06ED13AC910ACF9B338E9F6563012ED0895484DA2021BC33ED91EF691F61576D41F9AA24489B26CC71986028D4D1DEF4E77BFE31DC94BFEF9EBEFD1FB4518584F384E7C4AC6F6F1E1916D61E252CF27F3B19DB2D9ABB7F6FB77DF7E333AF3C285F5B9A47BC3E9602649C6F62363D189E324EE230E517218FA6E4C133A63872E0D1DE451E7F5D1D18FCEF1B18381850DBC2C6B749B12E68738FB025F2794B83862290A2EA98783A4188727D38CAB7585429C44C8C5633BA3B0AD0F818F40F8140733DB4284508618A876729FE0298B29994F231840C1DD32C240374341820B954F56E4A6DA1FBDE6DA3BAB89252B374D180D7B323C7E5398C351A7AF65545B980B0C760686654BFED699D1C6F64D4CBDD465B6A5CA3A990431A72B4C7A58101E58D9D703E16CC004FF77604DD280A5311E139CB21801C54DFA10F8EECF787947BF6232266910C8BA8036F0AC3200432026C2315BDEE259A1E185675B4E759EA34E14D3A439B9F21784BD796D5B57201C3D0458B85A7AD129A331FE09131C2386BD1BC4188E09E7813363D5A42BB2F8FFA534C01644866D5DA2C5274CE6EC11AC8716B675EE2FB0578E141ADC131F020926B138C55D422634619F51900A49A7D8F5430448BF89E153119E6F6D6BEA22FE964DAFDC2E014225D8AE04CE56180A02B384543EDEC5EC0A3DF9F3CC61AAAF1926896DDDE2207B9A3CFA5195FF8486114D7CFEF08B80FB794CC35B1AAC22A081EACB1D8AE71888EF6827E994A6B1DB43EB629EB1E2F0966187D69CC444E58CAEAFBEB7F8F71427EDFA16342D46562874DAAA644DCA8E9CD55A66B2C24916305EECA439BB5FF70A1DEACB5FF32A094E5D67A594A4B42F98EDB15D8A1FC2E39714150B6E2F2E6D0B43B8E9F02A91D8155E25B07B2E07DB59C60C9456037248A415D16B1C6505FDEE23AC106C1861DA78EC0E3249D09000D950AC6E3ACE0CB0DB3F336830AB4B203DD39889AE8254AB6BF9B343D7F2E7A0D8320EAA678BA67DAFD30BC39CC26451E2C2E73B3F34A83E155EBFD2F82B8E375FF50F2A17FB03B7A3FC52F16D06DC34ACA784BCC4BF48CE03345F6DB70DF3031F1A086730BB87E360096E92E15635FE250E1F705C6E87FC300A30D83BDB138DEDA39AAF2AE4792E6554D01FD7CD951B461EFC9024D4F5B377D716AB796952157D463CCBB04EA9EDB62A75F02518CF8FC05CE0C9B1FD43ED1DBB050908D504A9DC8F6BDC61EDC0310F5E144C00D0E03E9FB0FA42E313D78F5060A68832DD70A5E20E1282D427A738C2842F32663637D2A0B15AE75A0861CA4ADA65AB912381A937C64A97F5F07E2D516F1169B5EDE233824DD1E579F0A618DF4489B6EDE40E51A756821D28D09685350488ACD71B69DA43891DA34CA3C7EE10A631F60B4457090643CFD70AF92DA0AB5673AD6468986F075D8A1EBB4797626C1305DA36EA9B47575ED8C21C0633448577FA11AA7CE43595ADF7092E2AD7A4A8EB554C708653CC64B0320AC5E5AA8656179A1AAC9A599CA2222DB888EAD95532B121E72B9470B3FBC09AE2165505783BF896CC1AF5D431913CA468D8747C2751779CF4A920322FA8C56BE97C5003A8790DDDC0BBBEA5AE9A643D7309941959AC3155F72D0F376C3735576FD574B5D32BADD95AAB9B3EF54DC3FBA801D96D305D61B313638990EE345663B2EE93AE376A2C354F4BCCE525CCD85CE54189C827ABEE05276F5F28DB1C1C4D9FC3E81245914FE652DF4331624DF3A687C9AB69FFD68030E7E1B849438780D0564862344673AC3CE5071F1E3EF7E3EC5C0D3D207EAC33F1C21A99C89E9A24518A511264DD6B65E22827F0CFF9A4CA9951435951CC3887D7087971921D27AAD0699A99F599A000C50D8797131AA421D19749FAD979DB803C3F1F31E720F504C86CA461735ED2EDBFCC4B1A36E7951FF6C96CF2913A8791A338A556DCD51CAE849D0AA05EF0AA24A0B5A12617576BA3AE9589CED0D2A64BB676CB5E4CCFAB3C91AA005A734AA5E7B2BA5A92F9AC46F70E024A9E581B049A1C660E002D039DA9A53D916CEB96ADD26E80F462202065F3FE6E5FDFDFBD1D3D2CCD546EBD1A80923F30E757DE7CC9ACCAB11DBBB65659A92442BAA8B0944A6A545435DD6DA5B5322727E1CD71F4C9F77889335D26B05E1E7282C3E9EFC124F0E17D57049788F83330787E2B654315F6566953DD9F96512749BCA0A12A6CE81BADBA6B0717C53E376AE75570CFFB5CB987933CA1D87D44F177215A7C2F735AAB4FD3DB7A9FE6C625C87D9A99B55BE70FE9C35B033C6D07CDA6F76C6B74C56576A81DFC5D100F2FC6F61FD9AC13EBE2B72F62E281751D43D49F5847D69F03BBE94C65E7B30609565B8336EFFEE693F93D6FD732F5809838C809CF0CBE2D626080F3F7306934341479F0990D6F28EA918274B6DF586BC97AF7A06D87B7837B05865C833DCF85FD7FB929E47F80EC0A207B76C9BE5B7C88FB840197F32F0417FAC385BDC74457E34593178DDB1FF607137D3CB47B4CEC43BB44FD5E487328A7FE1281BE25223F728122EB8182C7F382483C34E96A50B28851B7448BD0DE5D15122A3BBB295AE4F6E9B86816D62A65EF7A31EA17BC7587775614ED572E2FA9CBE22599638B9D13EB9A41898AA63B98BDEE8568D25FA3F8D65FBF476F43FDA41D528EF4671E20EF25FE7CC582FFD10782DD4AB21134176446CBB4A768549228FBEB4BCC106CCED18798F933E43278ECE224C97E6DA7F88D8DB3F0017B17E43A6551CAE09571F81054EEAB78EE6C939F357054751E5D47D9EFEA6CE215404D9F9F2F5C938FA91F7842EFF38603190D0B9E948B0310EE4BC60F42E64BC1E98A12434685F9442D7187C3280066C93599A227BC8E6EF709FE84E7C85D9617267A26DD8EA89A7D74EAA3798CC2A4E0B19A0F5F01C35EB878F72FD65BDE30ED440000 , N'6.1.3-40302')

